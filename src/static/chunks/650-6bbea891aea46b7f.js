"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[650],{4444:function(a,b,c){c.d(b,{BH:function(){return v},LL:function(){return C},ZR:function(){return y},L:function(){return i},Sg:function(){return x},vZ:function(){return Q},aH:function(){return u},P0:function(){return t},m9:function(){return S},hl:function(){return m},eu:function(){return n}});var d=c(4155);const e=function(a){const b=[];let c=0;for(let d=0;d<a.length;d++){let e=a.charCodeAt(d);e<128?b[c++]=e:e<2048?(b[c++]=e>>6|192,b[c++]=63&e|128):(64512&e)==55296&&d+1<a.length&&(64512&a.charCodeAt(d+1))==56320?(e=65536+((1023&e)<<10)+(1023&a.charCodeAt(++d)),b[c++]=e>>18|240,b[c++]=e>>12&63|128,b[c++]=e>>6&63|128,b[c++]=63&e|128):(b[c++]=e>>12|224,b[c++]=e>>6&63|128,b[c++]=63&e|128)}return b},f=function(a){const b=[];let c=0,d=0;for(;c<a.length;){const e=a[c++];if(e<128)b[d++]=String.fromCharCode(e);else if(e>191&&e<224){const f=a[c++];b[d++]=String.fromCharCode((31&e)<<6|63&f)}else if(e>239&&e<365){const g=a[c++],h=a[c++],i=a[c++],j=((7&e)<<18|(63&g)<<12|(63&h)<<6|63&i)-65536;b[d++]=String.fromCharCode(55296+(j>>10)),b[d++]=String.fromCharCode(56320+(1023&j))}else{const k=a[c++],l=a[c++];b[d++]=String.fromCharCode((15&e)<<12|(63&k)<<6|63&l)}}return b.join("")},g={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(a,b){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const c=b?this.byteToCharMapWebSafe_:this.byteToCharMap_,d=[];for(let e=0;e<a.length;e+=3){const f=a[e],g=e+1<a.length,h=g?a[e+1]:0,i=e+2<a.length,j=i?a[e+2]:0,k=f>>2,l=(3&f)<<4|h>>4;let m=(15&h)<<2|j>>6,n=63&j;i||(n=64,g||(m=64)),d.push(c[k],c[l],c[m],c[n])}return d.join("")},encodeString(a,b){return this.HAS_NATIVE_SUPPORT&&!b?btoa(a):this.encodeByteArray(e(a),b)},decodeString(a,b){return this.HAS_NATIVE_SUPPORT&&!b?atob(a):f(this.decodeStringToByteArray(a,b))},decodeStringToByteArray(a,b){this.init_();const c=b?this.charToByteMapWebSafe_:this.charToByteMap_,d=[];for(let e=0;e<a.length;){const f=c[a.charAt(e++)],g=e<a.length,h=g?c[a.charAt(e)]:0;++e;const i=e<a.length,j=i?c[a.charAt(e)]:64;++e;const k=e<a.length,l=k?c[a.charAt(e)]:64;if(++e,null==f||null==h||null==j||null==l)throw Error();const m=f<<2|h>>4;if(d.push(m),64!==j){const n=h<<4&240|j>>2;if(d.push(n),64!==l){const o=j<<6&192|l;d.push(o)}}}return d},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}},h=function(a){const b=e(a);return g.encodeByteArray(b,!0)},i=function(a){return h(a).replace(/\./g,"")},j=function(a){try{return g.decodeString(a,!0)}catch(b){console.error("base64Decode failed: ",b)}return null};function k(a,b){if(!(b instanceof Object))return b;switch(b.constructor){case Date:const c=b;return new Date(c.getTime());case Object:void 0===a&&(a={});break;case Array:a=[];break;default:return b}for(const d in b)b.hasOwnProperty(d)&&l(d)&&(a[d]=k(a[d],b[d]));return a}function l(a){return"__proto__"!==a}function m(){try{return"object"==typeof indexedDB}catch(a){return!1}}function n(){return new Promise((a,b)=>{try{let c=!0;const d="validate-browser-context-for-indexeddb-analytics-module",e=self.indexedDB.open(d);e.onsuccess=()=>{e.result.close(),c||self.indexedDB.deleteDatabase(d),a(!0)},e.onupgradeneeded=()=>{c=!1},e.onerror=()=>{var a;b((null===(a=e.error)|| void 0===a?void 0:a.message)||"")}}catch(f){b(f)}})}const o=()=>(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==c.g)return c.g;throw new Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__,p=()=>{if(void 0===d|| void 0===d.env)return;const a=d.env.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},q=()=>{if("undefined"==typeof document)return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(b){return}const c=a&&j(a[1]);return c&&JSON.parse(c)},r=()=>{try{return o()||p()||q()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},s=a=>{var b,c;return null===(c=null===(b=r())|| void 0===b?void 0:b.emulatorHosts)|| void 0===c?void 0:c[a]},t=a=>{const b=s(a);if(!b)return;const c=b.lastIndexOf(":");if(c<=0||c+1===b.length)throw new Error(`Invalid host ${b} with no separate hostname and port!`);const d=parseInt(b.substring(c+1),10);return"["===b[0]?[b.substring(1,c-1),d]:[b.substring(0,c),d]},u=()=>{var a;return null===(a=r())|| void 0===a?void 0:a.config};class v{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((a,b)=>{this.resolve=a,this.reject=b})}wrapCallback(w){return(a,b)=>{a?this.reject(a):this.resolve(b),"function"==typeof w&&(this.promise.catch(()=>{}),1===w.length?w(a):w(a,b))}}}function x(a,b){if(a.uid)throw new Error("The \"uid\" field is no longer supported by mockUserToken. Please use \"sub\" instead for Firebase Auth User ID.");const c=b||"demo-project",d=a.iat||0,e=a.sub||a.user_id;if(!e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${c}`,aud:c,iat:d,exp:d+3600,auth_time:d,sub:e,user_id:e,firebase:{sign_in_provider:"custom",identities:{}}},a);return[i(JSON.stringify({alg:"none",type:"JWT"})),i(JSON.stringify(f)),""].join(".")}class y extends Error{constructor(z,A,B){super(A),this.code=z,this.customData=B,this.name="FirebaseError",Object.setPrototypeOf(this,y.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,C.prototype.create)}}class C{constructor(D,E,F){this.service=D,this.serviceName=E,this.errors=F}create(G,...H){const I=H[0]||{},J=`${this.service}/${G}`,K=this.errors[G],L=K?O(K,I):"Error",M=`${this.serviceName}: ${L} (${J}).`,N=new y(J,M,I);return N}}function O(a,b){return a.replace(P,(a,c)=>{const d=b[c];return null!=d?String(d):`<${c}?>`})}const P=/\{\$([^}]+)}/g;function Q(a,b){if(a===b)return!0;const c=Object.keys(a),d=Object.keys(b);for(const e of c){if(!d.includes(e))return!1;const f=a[e],g=b[e];if(R(f)&&R(g)){if(!Q(f,g))return!1}else if(f!==g)return!1}for(const h of d)if(!c.includes(h))return!1;return!0}function R(a){return null!==a&&"object"==typeof a}function S(a){return a&&a._delegate?a._delegate:a}},7779:function(a,b,c){c.d(b,{Jn:function(){return ca},qX:function(){return W},Xd:function(){return V},Mq:function(){return ea},ZF:function(){return da},KN:function(){return fa}});var d,e,f=c(8463);(d=e||(e={}))[d.DEBUG=0]="DEBUG",d[d.VERBOSE=1]="VERBOSE",d[d.INFO=2]="INFO",d[d.WARN=3]="WARN",d[d.ERROR=4]="ERROR",d[d.SILENT=5]="SILENT";const g={debug:e.DEBUG,verbose:e.VERBOSE,info:e.INFO,warn:e.WARN,error:e.ERROR,silent:e.SILENT},h=e.INFO,i={[e.DEBUG]:"log",[e.VERBOSE]:"log",[e.INFO]:"info",[e.WARN]:"warn",[e.ERROR]:"error"};var j=c(4444);const k=(a,b)=>b.some(b=>a instanceof b);let l,m;const n=new WeakMap(),o=new WeakMap(),p=new WeakMap(),q=new WeakMap(),r=new WeakMap();let s={get(a,b,c){if(a instanceof IDBTransaction){if("done"===b)return o.get(a);if("objectStoreNames"===b)return a.objectStoreNames||p.get(a);if("store"===b)return c.objectStoreNames[1]?void 0:c.objectStore(c.objectStoreNames[0])}return t(a[b])},set(a,b,c){return a[b]=c,!0},has(a,b){return a instanceof IDBTransaction&&("done"===b||"store"===b)||b in a}};function t(a){if(a instanceof IDBRequest)return(function(a){const b=new Promise((b,c)=>{const d=()=>{a.removeEventListener("success",e),a.removeEventListener("error",f)},e=()=>{b(t(a.result)),d()},f=()=>{c(a.error),d()};a.addEventListener("success",e),a.addEventListener("error",f)});return b.then(b=>{b instanceof IDBCursor&&n.set(b,a)}).catch(()=>{}),r.set(b,a),b})(a);if(q.has(a))return q.get(a);const b=function(a){if("function"==typeof a){var b;return(b=a)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(m||(m=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey,])).includes(b)?function(...a){return b.apply(u(this),a),t(n.get(this))}:function(...a){return t(b.apply(u(this),a))}:function(a,...c){const d=b.call(u(this),a,...c);return p.set(d,a.sort?a.sort():[a]),t(d)}}return(a instanceof IDBTransaction&&(function(a){if(o.has(a))return;const b=new Promise((b,c)=>{const d=()=>{a.removeEventListener("complete",e),a.removeEventListener("error",f),a.removeEventListener("abort",f)},e=()=>{b(),d()},f=()=>{c(a.error||new DOMException("AbortError","AbortError")),d()};a.addEventListener("complete",e),a.addEventListener("error",f),a.addEventListener("abort",f)});o.set(a,b)})(a),k(a,l||(l=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction,])))?new Proxy(a,s):a}(a);return b!==a&&(q.set(a,b),r.set(b,a)),b}const u=a=>r.get(a),v=["get","getKey","getAll","getAllKeys","count"],w=["put","add","delete","clear"],x=new Map();function y(a,b){if(!(a instanceof IDBDatabase&&!(b in a)&&"string"==typeof b))return;if(x.get(b))return x.get(b);const c=b.replace(/FromIndex$/,""),d=b!==c,e=w.includes(c);if(!(c in(d?IDBIndex:IDBObjectStore).prototype)||!(e||v.includes(c)))return;const f=async function(a,...b){const f=this.transaction(a,e?"readwrite":"readonly");let g=f.store;return d&&(g=g.index(b.shift())),(await Promise.all([g[c](...b),e&&f.done,]))[0]};return x.set(b,f),f}!function(a){s=a(s)}(a=>({...a,get:(b,c,d)=>y(b,c)||a.get(b,c,d),has:(b,c)=>!!y(b,c)||a.has(b,c)}));class z{constructor(A){this.container=A}getPlatformInfoString(){const B=this.container.getProviders();return B.map(a=>{if(!C(a))return null;{const b=a.getImmediate();return`${b.library}/${b.version}`}}).filter(a=>a).join(" ")}}function C(a){const b=a.getComponent();return(null==b?void 0:b.type)==="VERSION"}const D="@firebase/app",E="0.9.0",F=new class{constructor(G){this.name=G,this._logLevel=h,this._logHandler=(a,b,...c)=>{if(b<a.logLevel)return;const d=new Date().toISOString(),e=i[b];if(e)console[e](`[${d}]  ${a.name}:`,...c);else throw new Error(`Attempted to log a message with an invalid logType (value: ${b})`)},this._userLogHandler=null,[].push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in e))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(I){this._logLevel="string"==typeof I?g[I]:I}get logHandler(){return this._logHandler}set logHandler(J){if("function"!=typeof J)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=J}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(...L){this._userLogHandler&&this._userLogHandler(this,e.DEBUG,...L),this._logHandler(this,e.DEBUG,...L)}log(...M){this._userLogHandler&&this._userLogHandler(this,e.VERBOSE,...M),this._logHandler(this,e.VERBOSE,...M)}info(...N){this._userLogHandler&&this._userLogHandler(this,e.INFO,...N),this._logHandler(this,e.INFO,...N)}warn(...O){this._userLogHandler&&this._userLogHandler(this,e.WARN,...O),this._logHandler(this,e.WARN,...O)}error(...P){this._userLogHandler&&this._userLogHandler(this,e.ERROR,...P),this._logHandler(this,e.ERROR,...P)}}("@firebase/app"),Q="[DEFAULT]",R={[D]:"fire-core",["@firebase/app-compat"]:"fire-core-compat",["@firebase/analytics"]:"fire-analytics",["@firebase/analytics-compat"]:"fire-analytics-compat",["@firebase/app-check"]:"fire-app-check",["@firebase/app-check-compat"]:"fire-app-check-compat",["@firebase/auth"]:"fire-auth",["@firebase/auth-compat"]:"fire-auth-compat",["@firebase/database"]:"fire-rtdb",["@firebase/database-compat"]:"fire-rtdb-compat",["@firebase/functions"]:"fire-fn",["@firebase/functions-compat"]:"fire-fn-compat",["@firebase/installations"]:"fire-iid",["@firebase/installations-compat"]:"fire-iid-compat",["@firebase/messaging"]:"fire-fcm",["@firebase/messaging-compat"]:"fire-fcm-compat",["@firebase/performance"]:"fire-perf",["@firebase/performance-compat"]:"fire-perf-compat",["@firebase/remote-config"]:"fire-rc",["@firebase/remote-config-compat"]:"fire-rc-compat",["@firebase/storage"]:"fire-gcs",["@firebase/storage-compat"]:"fire-gcs-compat",["@firebase/firestore"]:"fire-fst",["@firebase/firestore-compat"]:"fire-fst-compat","fire-js":"fire-js",["firebase"]:"fire-js-all"},S=new Map(),T=new Map();function U(a,b){try{a.container.addComponent(b)}catch(c){F.debug(`Component ${b.name} failed to register with FirebaseApp ${a.name}`,c)}}function V(a){const b=a.name;if(T.has(b))return F.debug(`There were multiple attempts to register component ${b}.`),!1;for(const c of(T.set(b,a),S.values()))U(c,a);return!0}function W(a,b){const c=a.container.getProvider("heartbeat").getImmediate({optional:!0});return c&&c.triggerHeartbeat(),a.container.getProvider(b)}const X=new j.LL("app","Firebase",{["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Y{constructor(Z,$,_){this._isDeleted=!1,this._options=Object.assign({},Z),this._config=Object.assign({},$),this._name=$.name,this._automaticDataCollectionEnabled=$.automaticDataCollectionEnabled,this._container=_,this.container.addComponent(new f.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(aa){this.checkDestroyed(),this._automaticDataCollectionEnabled=aa}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ba){this._isDeleted=ba}checkDestroyed(){if(this.isDeleted)throw X.create("app-deleted",{appName:this._name})}}const ca="9.15.0";function da(a,b={}){let c=a;if("object"!=typeof b){const d=b;b={name:d}}const e=Object.assign({name:Q,automaticDataCollectionEnabled:!1},b),g=e.name;if("string"!=typeof g||!g)throw X.create("bad-app-name",{appName:String(g)});if(c||(c=(0,j.aH)()),!c)throw X.create("no-options");const h=S.get(g);if(h){if((0,j.vZ)(c,h.options)&&(0,j.vZ)(e,h.config))return h;throw X.create("duplicate-app",{appName:g})}const i=new f.H0(g);for(const k of T.values())i.addComponent(k);const l=new Y(c,e,i);return S.set(g,l),l}function ea(a=Q){const b=S.get(a);if(!b&&a===Q)return da();if(!b)throw X.create("no-app",{appName:a});return b}function fa(a,b,c){var d;let e=null!==(d=R[a])&& void 0!==d?d:a;c&&(e+=`-${c}`);const g=e.match(/\s|\//),h=b.match(/\s|\//);if(g||h){const i=[`Unable to register library "${e}" with version "${b}":`];g&&i.push(`library name "${e}" contains illegal characters (whitespace or "/")`),g&&h&&i.push("and"),h&&i.push(`version name "${b}" contains illegal characters (whitespace or "/")`),F.warn(i.join(" "));return}V(new f.wA(`${e}-version`,()=>({library:e,version:b}),"VERSION"))}const ga="firebase-heartbeat-store";let ha=null;function ia(){return ha||(ha=(function(a,b,{blocked:c,upgrade:d,blocking:e,terminated:f}={}){const g=indexedDB.open(a,1),h=t(g);return d&&g.addEventListener("upgradeneeded",a=>{d(t(g.result),a.oldVersion,a.newVersion,t(g.transaction))}),c&&g.addEventListener("blocked",()=>c()),h.then(a=>{f&&a.addEventListener("close",()=>f()),e&&a.addEventListener("versionchange",()=>e())}).catch(()=>{}),h})("firebase-heartbeat-database",1,{upgrade:(a,b)=>{switch(b){case 0:a.createObjectStore(ga)}}}).catch(a=>{throw X.create("idb-open",{originalErrorMessage:a.message})})),ha}async function ja(a){try{const b=await ia();return b.transaction(ga).objectStore(ga).get(la(a))}catch(c){if(c instanceof j.ZR)F.warn(c.message);else{const d=X.create("idb-get",{originalErrorMessage:null==c?void 0:c.message});F.warn(d.message)}}}async function ka(a,b){try{const c=await ia(),d=c.transaction(ga,"readwrite"),e=d.objectStore(ga);return await e.put(b,la(a)),d.done}catch(f){if(f instanceof j.ZR)F.warn(f.message);else{const g=X.create("idb-set",{originalErrorMessage:null==f?void 0:f.message});F.warn(g.message)}}}function la(a){return`${a.name}!${a.options.appId}`}class ma{constructor(na){this.container=na,this._heartbeatsCache=null;const oa=this.container.getProvider("app").getImmediate();this._storage=new ya(oa),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){const pa=this.container.getProvider("platform-logger").getImmediate(),qa=pa.getPlatformInfoString(),ra=wa();return(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate===ra||this._heartbeatsCache.heartbeats.some(a=>a.date===ra))?void 0:(this._heartbeatsCache.heartbeats.push({date:ra,agent:qa}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const b=new Date(a.date).valueOf(),c=Date.now();return c-b<=2592e6}),this._storage.overwrite(this._heartbeatsCache))}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const sa=wa(),{heartbeatsToSend:ta,unsentEntries:ua}=xa(this._heartbeatsCache.heartbeats),va=(0,j.L)(JSON.stringify({version:2,heartbeats:ta}));return this._heartbeatsCache.lastSentHeartbeatDate=sa,ua.length>0?(this._heartbeatsCache.heartbeats=ua,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),va}}function wa(){const a=new Date();return a.toISOString().substring(0,10)}function xa(a,b=1024){const c=[];let d=a.slice();for(const e of a){const f=c.find(a=>a.agent===e.agent);if(f){if(f.dates.push(e.date),Ka(c)>b){f.dates.pop();break}}else if(c.push({agent:e.agent,dates:[e.date]}),Ka(c)>b){c.pop();break}d=d.slice(1)}return{heartbeatsToSend:c,unsentEntries:d}}class ya{constructor(za){this.app=za,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,j.hl)()&&(0,j.eu)().then(()=>!0).catch(()=>!1)}async read(){const Aa=await this._canUseIndexedDBPromise;if(!Aa)return{heartbeats:[]};{const Ba=await ja(this.app);return Ba||{heartbeats:[]}}}async overwrite(Ca){var Da;const Ea=await this._canUseIndexedDBPromise;if(Ea){const Fa=await this.read();return ka(this.app,{lastSentHeartbeatDate:null!==(Da=Ca.lastSentHeartbeatDate)&& void 0!==Da?Da:Fa.lastSentHeartbeatDate,heartbeats:Ca.heartbeats})}}async add(Ga){var Ha;const Ia=await this._canUseIndexedDBPromise;if(Ia){const Ja=await this.read();return ka(this.app,{lastSentHeartbeatDate:null!==(Ha=Ga.lastSentHeartbeatDate)&& void 0!==Ha?Ha:Ja.lastSentHeartbeatDate,heartbeats:[...Ja.heartbeats,...Ga.heartbeats]})}}}function Ka(a){return(0,j.L)(JSON.stringify({version:2,heartbeats:a})).length}V(new f.wA("platform-logger",a=>new z(a),"PRIVATE")),V(new f.wA("heartbeat",a=>new ma(a),"PRIVATE")),fa(D,E,""),fa(D,E,"esm2017"),fa("fire-js","")},8463:function(a,b,c){c.d(b,{wA:function(){return e},H0:function(){return ia}});var d=c(4444);class e{constructor(f,g,h){this.name=f,this.instanceFactory=g,this.type=h,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(i){return this.instantiationMode=i,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(k){return this.serviceProps=k,this}setInstanceCreatedCallback(l){return this.onInstanceCreated=l,this}}const m="[DEFAULT]";class n{constructor(o,p){this.name=o,this.container=p,this.component=null,this.instances=new Map(),this.instancesDeferred=new Map(),this.instancesOptions=new Map(),this.onInitCallbacks=new Map()}get(q){const r=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(r)){const s=new d.BH();if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const t=this.getOrInitializeService({instanceIdentifier:r});t&&s.resolve(t)}catch(u){}}return this.instancesDeferred.get(r).promise}getImmediate(v){var w;const x=this.normalizeInstanceIdentifier(null==v?void 0:v.identifier),y=null!==(w=null==v?void 0:v.optional)&& void 0!==w&&w;if(this.isInitialized(x)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:x})}catch(z){if(y)return null;throw z}else{if(y)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(A){if(A.name!==this.name)throw Error(`Mismatching Component ${A.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=A,this.shouldAutoInitialize()){if(ha(A))try{this.getOrInitializeService({instanceIdentifier:m})}catch(B){}for(const[C,D]of this.instancesDeferred.entries()){const E=this.normalizeInstanceIdentifier(C);try{const F=this.getOrInitializeService({instanceIdentifier:E});D.resolve(F)}catch(G){}}}}clearInstance(H=m){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}async delete(){const I=Array.from(this.instances.values());await Promise.all([...I.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...I.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return null!=this.component}isInitialized(J=m){return this.instances.has(J)}getOptions(K=m){return this.instancesOptions.get(K)||{}}initialize(L={}){const{options:M={}}=L,N=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(N))throw Error(`${this.name}(${N}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const O=this.getOrInitializeService({instanceIdentifier:N,options:M});for(const[P,Q]of this.instancesDeferred.entries()){const R=this.normalizeInstanceIdentifier(P);N===R&&Q.resolve(O)}return O}onInit(S,T){var U;const V=this.normalizeInstanceIdentifier(T),W=null!==(U=this.onInitCallbacks.get(V))&& void 0!==U?U:new Set();W.add(S),this.onInitCallbacks.set(V,W);const X=this.instances.get(V);return X&&S(X,V),()=>{W.delete(S)}}invokeOnInitCallbacks(Y,Z){const $=this.onInitCallbacks.get(Z);if($)for(const _ of $)try{_(Y,Z)}catch(aa){}}getOrInitializeService({instanceIdentifier:ba,options:ca={}}){let da=this.instances.get(ba);if(!da&&this.component&&(da=this.component.instanceFactory(this.container,{instanceIdentifier:ga(ba),options:ca}),this.instances.set(ba,da),this.instancesOptions.set(ba,ca),this.invokeOnInitCallbacks(da,ba),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ba,da)}catch(ea){}return da||null}normalizeInstanceIdentifier(fa=m){return this.component?this.component.multipleInstances?fa:m:fa}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function ga(a){return a===m?void 0:a}function ha(a){return"EAGER"===a.instantiationMode}class ia{constructor(ja){this.name=ja,this.providers=new Map()}addComponent(ka){const la=this.getProvider(ka.name);if(la.isComponentSet())throw new Error(`Component ${ka.name} has already been registered with ${this.name}`);la.setComponent(ka)}addOrOverwriteComponent(ma){const na=this.getProvider(ma.name);na.isComponentSet()&&this.providers.delete(ma.name),this.addComponent(ma)}getProvider(oa){if(this.providers.has(oa))return this.providers.get(oa);const pa=new n(oa,this);return this.providers.set(oa,pa),pa}getProviders(){return Array.from(this.providers.values())}}},6650:function(a,b,c){c.d(b,{Jt:function(){return pc},cF:function(){return rc},aF:function(){return oc},iH:function(){return qc}});var d,e,f=c(7779),g=c(4444),h=c(8463);const i="firebasestorage.googleapis.com",j="storageBucket";class k extends g.ZR{constructor(l,m,n=0){super(r(l),`Firebase Storage: ${m} (${r(l)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,k.prototype)}get status(){return this.status_}set status(o){this.status_=o}_codeEquals(p){return r(p)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(q){this.customData.serverResponse=q,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}function r(a){return"storage/"+a}function s(){return new k("unknown","An unknown error occurred, please check the error payload for server response.")}function t(a){return new k("invalid-argument",a)}function u(){return new k("app-deleted","The Firebase app was deleted.")}function v(a,b){return new k("invalid-format","String does not match format '"+a+"': "+b)}function w(a){throw new k("internal-error","Internal error: "+a)}class x{constructor(y,z){this.bucket=y,this.path_=z}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const A=encodeURIComponent;return"/b/"+A(this.bucket)+"/o/"+A(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(B,C){var D;let E;try{E=x.makeFromUrl(B,C)}catch(F){return new x(B,"")}if(""===E.path)return E;throw D=B,new k("invalid-default-bucket","Invalid default bucket '"+D+"'.")}static makeFromUrl(G,H){let I=null;const J="([A-Za-z0-9.\\-_]+)",K=new RegExp("^gs://"+J+"(/(.*))?$","i");function L(a){a.path_=decodeURIComponent(a.path)}const M=H.replace(/[.]/g,"\\."),N=new RegExp(`^https?://${M}/v[A-Za-z0-9_]+/b/${J}/o(/([^?#]*).*)?$`,"i"),O=new RegExp(`^https?://${H===i?"(?:storage.googleapis.com|storage.cloud.google.com)":H}/${J}/([^?#]*)`,"i"),P=[{regex:K,indices:{bucket:1,path:3},postModify:function(a){"/"===a.path.charAt(a.path.length-1)&&(a.path_=a.path_.slice(0,-1))}},{regex:N,indices:{bucket:1,path:3},postModify:L},{regex:O,indices:{bucket:1,path:2},postModify:L}];for(let Q=0;Q<P.length;Q++){const R=P[Q],S=R.regex.exec(G);if(S){const T=S[R.indices.bucket];let U=S[R.indices.path];U||(U=""),I=new x(T,U),R.postModify(I);break}}if(null==I){var V;throw V=G,new k("invalid-url","Invalid URL '"+V+"'.")}return I}}class W{constructor(X){this.promise_=Promise.reject(X)}getPromise(){return this.promise_}cancel(Y=!1){}}function Z(a){return"string"==typeof a||a instanceof String}function $(a){return _()&&a instanceof Blob}function _(){return"undefined"!=typeof Blob&&!isNode()}function aa(a,b,c,d){if(d<b)throw t(`Invalid value for '${a}'. Expected ${b} or greater.`);if(d>c)throw t(`Invalid value for '${a}'. Expected ${c} or less.`)}function ba(a,b,c){let d=b;return null==c&&(d=`https://${b}`),`${c}://${d}/v0${a}`}function ca(a){const b=encodeURIComponent;let c="?";for(const d in a)if(a.hasOwnProperty(d)){const e=b(d)+"="+b(a[d]);c=c+e+"&"}return c=c.slice(0,-1)}(d=e||(e={}))[d.NO_ERROR=0]="NO_ERROR",d[d.NETWORK_ERROR=1]="NETWORK_ERROR",d[d.ABORT=2]="ABORT";class da{constructor(ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa=!0){this.url_=ea,this.method_=fa,this.headers_=ga,this.body_=ha,this.successCodes_=ia,this.additionalRetryCodes_=ja,this.callback_=ka,this.errorCallback_=la,this.timeout_=ma,this.progressCallback_=na,this.connectionFactory_=oa,this.retry=pa,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((a,b)=>{this.resolve_=a,this.reject_=b,this.start_()})}start_(){const qa=(a,b)=>{const c=this.resolve_,d=this.reject_,e=b.connection;if(b.wasSuccessCode)try{var f;const g=this.callback_(e,e.getResponse());(f=g,void 0!==f)?c(g):c()}catch(h){d(h)}else if(null!==e){const i=s();i.serverResponse=e.getErrorText(),d(this.errorCallback_?this.errorCallback_(e,i):i)}else if(b.canceled){const j=this.appDelete_?u():new k("canceled","User canceled the upload/download.");d(j)}else{const l=new k("retry-limit-exceeded","Max retry time for operation exceeded, please try again.");d(l)}};this.canceled_?qa(!1,new sa(!1,null,!0)):this.backoffId_=(function(a,b,c){let d=1,e=null,f=null,g=!1,h=0;function i(){return 2===h}let j=!1;function k(...a){j||(j=!0,b.apply(null,a))}function l(b){e=setTimeout(()=>{e=null,a(n,i())},b)}function m(){f&&clearTimeout(f)}function n(a,...b){if(j){m();return}if(a){m(),k.call(null,a,...b);return}const c=i()||g;if(c){m(),k.call(null,a,...b);return}d<64&&(d*=2);let e;1===h?(h=2,e=0):e=(d+Math.random())*1e3,l(e)}let o=!1;function p(a){o||(o=!0,m(),!j&&(null!==e?(a||(h=2),clearTimeout(e),l(0)):a||(h=1)))}return l(0),f=setTimeout(()=>{g=!0,p(!0)},c),p})((a,b)=>{if(b){a(!1,new sa(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=a=>{const b=a.loaded,c=a.lengthComputable?a.total:-1;null!==this.progressCallback_&&this.progressCallback_(b,c)};null!==this.progressCallback_&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const b=c.getErrorCode()===e.NO_ERROR,f=c.getStatus();if((!b||(function(a,b){const c=-1!==[408,429].indexOf(a),d=-1!==b.indexOf(a);return a>=500&&a<600||c||d})(f,this.additionalRetryCodes_))&&this.retry){const g=c.getErrorCode()===e.ABORT;a(!1,new sa(!1,null,g));return}const h=-1!==this.successCodes_.indexOf(f);a(!0,new sa(h,c))})},qa,this.timeout_)}getPromise(){return this.promise_}cancel(ra){this.canceled_=!0,this.appDelete_=ra||!1,null!==this.backoffId_&&(function(a){a(!1)})(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class sa{constructor(ta,ua,va){this.wasSuccessCode=ta,this.connection=ua,this.canceled=!!va}}function wa(...a){const b="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==b){const c=new b();for(let d=0;d<a.length;d++)c.append(a[d]);return c.getBlob()}if(_())return new Blob(a);throw new k("unsupported-environment","This browser doesn't seem to support creating Blobs")}const xa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ya{constructor(za,Aa){this.data=za,this.contentType=Aa||null}}function Ba(a){const b=[];for(let c=0;c<a.length;c++){let d=a.charCodeAt(c);if(d<=127)b.push(d);else if(d<=2047)b.push(192|d>>6,128|63&d);else if((64512&d)==55296){const e=c<a.length-1&&(64512&a.charCodeAt(c+1))==56320;if(e){const f=d,g=a.charCodeAt(++c);d=65536|(1023&f)<<10|1023&g,b.push(240|d>>18,128|d>>12&63,128|d>>6&63,128|63&d)}else b.push(239,191,189)}else(64512&d)==56320?b.push(239,191,189):b.push(224|d>>12,128|d>>6&63,128|63&d)}return new Uint8Array(b)}function Ca(a,b){switch(a){case xa.BASE64:{const c=-1!==b.indexOf("-"),d=-1!==b.indexOf("_");if(c||d){const e=c?"-":"_";throw v(a,"Invalid character '"+e+"' found: is it base64url encoded?")}break}case xa.BASE64URL:{const f=-1!==b.indexOf("+"),g=-1!==b.indexOf("/");if(f||g){const h=f?"+":"/";throw v(a,"Invalid character '"+h+"' found: is it base64 encoded?")}b=b.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=(function(a){if("undefined"==typeof atob){var b;throw b="base-64",new k("unsupported-environment",`${b} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}return atob(a)})(b)}catch(j){if(j.message.includes("polyfill"))throw j;throw v(a,"Invalid character found")}const l=new Uint8Array(i.length);for(let m=0;m<i.length;m++)l[m]=i.charCodeAt(m);return l}class Da{constructor(Ea){this.base64=!1,this.contentType=null;const Fa=Ea.match(/^data:([^,]+)?,/);if(null===Fa)throw v(xa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Ga=Fa[1]||null;null!=Ga&&(this.base64=(function(a,b){const c=a.length>=b.length;return!!c&&a.substring(a.length-b.length)===b})(Ga,";base64"),this.contentType=this.base64?Ga.substring(0,Ga.length-7):Ga),this.rest=Ea.substring(Ea.indexOf(",")+1)}}class Ha{constructor(Ia,Ja){let Ka=0,La="";$(Ia)?(this.data_=Ia,Ka=Ia.size,La=Ia.type):Ia instanceof ArrayBuffer?(Ja?this.data_=new Uint8Array(Ia):(this.data_=new Uint8Array(Ia.byteLength),this.data_.set(new Uint8Array(Ia))),Ka=this.data_.length):Ia instanceof Uint8Array&&(Ja?this.data_=Ia:(this.data_=new Uint8Array(Ia.length),this.data_.set(Ia)),Ka=Ia.length),this.size_=Ka,this.type_=La}size(){return this.size_}type(){return this.type_}slice(Ma,Na){if($(this.data_)){var Oa,Pa,Qa;const Ra=this.data_,Sa=(Oa=Ra,Pa=Ma,Qa=Na,Oa.webkitSlice?Oa.webkitSlice(Pa,Qa):Oa.mozSlice?Oa.mozSlice(Pa,Qa):Oa.slice?Oa.slice(Pa,Qa):null);return null===Sa?null:new Ha(Sa)}{const Ta=new Uint8Array(this.data_.buffer,Ma,Na-Ma);return new Ha(Ta,!0)}}static getBlob(...Ua){if(_()){const Va=Ua.map(a=>a instanceof Ha?a.data_:a);return new Ha(wa.apply(null,Va))}{const Wa=Ua.map(a=>Z(a)?(function(a,b){switch(a){case xa.RAW:return new ya(Ba(b));case xa.BASE64:case xa.BASE64URL:return new ya(Ca(a,b));case xa.DATA_URL:return new ya(function(a){const b=new Da(a);return b.base64?Ca(xa.BASE64,b.rest):(function(a){let b;try{b=decodeURIComponent(a)}catch(c){throw v(xa.DATA_URL,"Malformed data URL.")}return Ba(b)})(b.rest)}(b),function(a){const b=new Da(a);return b.contentType}(b))}throw s()})(xa.RAW,a).data:a.data_);let Xa=0;Wa.forEach(a=>{Xa+=a.byteLength});const Ya=new Uint8Array(Xa);let Za=0;return Wa.forEach(a=>{for(let b=0;b<a.length;b++)Ya[Za++]=a[b]}),new Ha(Ya,!0)}}uploadData(){return this.data_}}function $a(a){var b;let c;try{c=JSON.parse(a)}catch(d){return null}return"object"!=typeof(b=c)||Array.isArray(b)?null:c}function _a(a){const b=a.lastIndexOf("/",a.length-2);return -1===b?a:a.slice(b+1)}class ab{constructor(bb,cb,db,eb){this.server=bb,this.local=cb||bb,this.writable=!!db,this.xform=eb||function(a,b){return b}}}let fb=null;const gb="prefixes",hb="items";class ib{constructor(jb,kb,lb,mb){this.url=jb,this.method=kb,this.handler=lb,this.timeout=mb,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function nb(a){if(!a)throw s()}function ob(a){return function(b,c){var d,e;let f;return(f=401===b.getStatus()?b.getErrorText().includes("Firebase App Check token is invalid")?new k("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new k("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===b.getStatus()?(d=a.bucket,new k("quota-exceeded","Quota for bucket '"+d+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===b.getStatus()?(e=a.path,new k("unauthorized","User does not have permission to access '"+e+"'.")):c).status=b.getStatus(),f.serverResponse=c.serverResponse,f}}class pb{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest(),this.initXhr(),this.errorCode_=e.NO_ERROR,this.sendPromise_=new Promise(a=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=e.ABORT,a()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=e.NETWORK_ERROR,a()}),this.xhr_.addEventListener("load",()=>{a()})})}send(qb,rb,sb,tb){if(this.sent_)throw w("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(rb,qb,!0),void 0!==tb)for(const ub in tb)tb.hasOwnProperty(ub)&&this.xhr_.setRequestHeader(ub,tb[ub].toString());return void 0!==sb?this.xhr_.send(sb):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw w("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw w("cannot .getStatus() before sending");try{return this.xhr_.status}catch(vb){return -1}}getResponse(){if(!this.sent_)throw w("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw w("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(wb){return this.xhr_.getResponseHeader(wb)}addUploadProgressListener(xb){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",xb)}removeUploadProgressListener(yb){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",yb)}}class zb extends pb{initXhr(){this.xhr_.responseType="text"}}function Ab(){return new zb()}class Bb{constructor(Cb,Db){this._service=Cb,Db instanceof x?this._location=Db:this._location=x.makeFromUrl(Db,Cb.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(Eb,Fb){return new Bb(Eb,Fb)}get root(){const Gb=new x(this._location.bucket,"");return this._newRef(this._service,Gb)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _a(this._location.path)}get storage(){return this._service}get parent(){const Hb=function(a){if(0===a.length)return null;const b=a.lastIndexOf("/");if(-1===b)return"";const c=a.slice(0,b);return c}(this._location.path);if(null===Hb)return null;const Ib=new x(this._location.bucket,Hb);return new Bb(this._service,Ib)}_throwIfRoot(Jb){if(""===this._location.path){var Kb;throw Kb=Jb,new k("invalid-root-operation","The operation '"+Kb+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}}}async function Lb(a,b,c){const d=await Mb(a,{pageToken:c});b.prefixes.push(...d.prefixes),b.items.push(...d.items),null!=d.nextPageToken&&await Lb(a,b,d.nextPageToken)}function Mb(a,b){null!=b&&"number"==typeof b.maxResults&&aa("options.maxResults",1,1e3,b.maxResults);const c=b||{},d=function(a,b,c,d,e){var f,g;const h={};b.isRoot?h.prefix="":h.prefix=b.path+"/",c&&c.length>0&&(h.delimiter=c),d&&(h.pageToken=d),e&&(h.maxResults=e);const i=b.bucketOnlyServerUrl(),j=ba(i,a.host,a._protocol),k=a.maxOperationRetryTime,l=new ib(j,"GET",(f=a,g=b.bucket,function(a,b){const c=function(a,b,c){const d=$a(c);return null===d?null:(function(a,b,c){const d={prefixes:[],items:[],nextPageToken:c.nextPageToken};if(c[gb])for(const e of c[gb]){const f=e.replace(/\/$/,""),g=a._makeStorageReference(new x(b,f));d.prefixes.push(g)}if(c[hb])for(const h of c[hb]){const i=a._makeStorageReference(new x(b,h.name));d.items.push(i)}return d})(a,b,d)}(f,g,b);return nb(null!==c),c}),k);return l.urlParams=h,l.errorHandler=ob(b),l}(a.storage,a._location,"/",c.pageToken,c.maxResults);return a.storage.makeRequestWithTokens(d,Ab)}function Nb(a,b){if(a instanceof Pb){const c=a;if(null==c._bucket)throw new k("no-default-bucket","No default bucket found. Did you set the '"+j+"' property when initializing the app?");const d=new Bb(c,c._bucket);return null!=b?Nb(d,b):d}return void 0!==b?(function(a,b){const c=function(a,b){const c=b.split("/").filter(a=>a.length>0).join("/");return 0===a.length?c:a+"/"+c}(a._location.path,b),d=new x(a._location.bucket,c);return new Bb(a.storage,d)})(a,b):a}function Ob(a,b){const c=null==b?void 0:b[j];return null==c?null:x.makeFromBucketSpec(c,a)}class Pb{constructor(Qb,Rb,Sb,Tb,Ub){this.app=Qb,this._authProvider=Rb,this._appCheckProvider=Sb,this._url=Tb,this._firebaseVersion=Ub,this._bucket=null,this._host=i,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set(),null!=Tb?this._bucket=x.makeFromBucketSpec(Tb,this._host):this._bucket=Ob(this._host,this.app.options)}get host(){return this._host}set host(Vb){this._host=Vb,null!=this._url?this._bucket=x.makeFromBucketSpec(this._url,Vb):this._bucket=Ob(Vb,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(Wb){aa("time",0,Number.POSITIVE_INFINITY,Wb),this._maxUploadRetryTime=Wb}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(Xb){aa("time",0,Number.POSITIVE_INFINITY,Xb),this._maxOperationRetryTime=Xb}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const Yb=this._authProvider.getImmediate({optional:!0});if(Yb){const Zb=await Yb.getToken();if(null!==Zb)return Zb.accessToken}return null}async _getAppCheckToken(){const $b=this._appCheckProvider.getImmediate({optional:!0});if($b){const _b=await $b.getToken();return _b.token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(a=>a.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(ac){return new Bb(this,ac)}_makeRequest(bc,cc,dc,ec,fc=!0){if(this._deleted)return new W(u());{const gc=function(a,b,c,d,e,f,g=!0){var h,i,j,k,l,m,n,o;const p=ca(a.urlParams),q=a.url+p,r=Object.assign({},a.headers);return h=r,(i=b)&&(h["X-Firebase-GMPID"]=i),j=r,null!==(k=c)&&k.length>0&&(j.Authorization="Firebase "+k),l=r,m=f,l["X-Firebase-Storage-Version"]="webjs/"+(null!=m?m:"AppManager"),n=r,null!==(o=d)&&(n["X-Firebase-AppCheck"]=o),new da(q,a.method,r,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,e,g)}(bc,this._appId,dc,ec,cc,this._firebaseVersion,fc);return this._requests.add(gc),gc.getPromise().then(()=>this._requests.delete(gc),()=>this._requests.delete(gc)),gc}}async makeRequestWithTokens(hc,ic){const[jc,kc]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(hc,ic,jc,kc).getPromise()}}const lc="@firebase/storage",mc="0.10.0",nc="storage";function oc(a){return(function(a){const b={prefixes:[],items:[]};return Lb(a,b).then(()=>b)})(a=(0,g.m9)(a))}function pc(a){return(function(a){a._throwIfRoot("getDownloadURL");const b=function(a,b,c){var d,e;const f=b.fullServerUrl(),g=ba(f,a.host,a._protocol),h=a.maxOperationRetryTime,i=new ib(g,"GET",(d=a,e=c,function(a,b){const c=function(a,b,c){const d=$a(b);return null===d?null:(function(a,b,c){var d,e;const f={};f.type="file";const g=c.length;for(let h=0;h<g;h++){const i=c[h];f[i.local]=i.xform(f,b[i.server])}return d=f,e=a,Object.defineProperty(d,"ref",{get:function(){const a=d.bucket,b=d.fullPath,c=new x(a,b);return e._makeStorageReference(c)}}),f})(a,d,c)}(d,b,e);return nb(null!==c),(function(a,b,c,d){const e=$a(b);if(null===e)return null;if(!Z(e.downloadTokens))return null;const f=e.downloadTokens;if(0===f.length)return null;const g=encodeURIComponent,h=f.split(","),i=h.map(b=>{const e=a.bucket,f=a.fullPath,h="/b/"+g(e)+"/o/"+g(f),i=ba(h,c,d),j=ca({alt:"media",token:b});return i+j});return i[0]})(c,b,d.host,d._protocol)}),h);return i.errorHandler=(function(a){const b=ob(a);return function(c,d){let e=b(c,d);if(404===c.getStatus()){var f;e=(f=a.path,new k("object-not-found","Object '"+f+"' does not exist."))}return e.serverResponse=d.serverResponse,e}})(b),i}(a.storage,a._location,function(){if(fb)return fb;const a=[];a.push(new ab("bucket")),a.push(new ab("generation")),a.push(new ab("metageneration")),a.push(new ab("name","fullPath",!0));const b=new ab("name");b.xform=function(a,b){var c;return!Z(c=b)||c.length<2?c:_a(c)},a.push(b);const c=new ab("size");return c.xform=function(a,b){return void 0!==b?Number(b):b},a.push(c),a.push(new ab("timeCreated")),a.push(new ab("updated")),a.push(new ab("md5Hash",null,!0)),a.push(new ab("cacheControl",null,!0)),a.push(new ab("contentDisposition",null,!0)),a.push(new ab("contentEncoding",null,!0)),a.push(new ab("contentLanguage",null,!0)),a.push(new ab("contentType",null,!0)),a.push(new ab("metadata","customMetadata",!0)),fb=a}());return a.storage.makeRequestWithTokens(b,Ab).then(a=>{if(null===a)throw new k("no-download-url","The given file does not have any download URLs.");return a})})(a=(0,g.m9)(a))}function qc(a,b){return(function(a,b){var c,d,e;if(!(b&&(c=b,/^[A-Za-z]+:\/\//.test(c))))return Nb(a,b);if(a instanceof Pb)return d=a,e=b,new Bb(d,e);throw t("To use ref(service, url), the first argument must be a Storage instance.")})(a=(0,g.m9)(a),b)}function rc(a=(0,f.Mq)(),b){a=(0,g.m9)(a);const c=(0,f.qX)(a,nc),d=c.getImmediate({identifier:b}),e=(0,g.P0)("storage");return e&&sc(d,...e),d}function sc(a,b,c,d={}){!function(a,b,c,d={}){a.host=`${b}:${c}`,a._protocol="http";const{mockUserToken:e}=d;e&&(a._overrideAuthToken="string"==typeof e?e:(0,g.Sg)(e,a.app.options.projectId))}(a,b,c,d)}(0,f.Xd)(new h.wA(nc,function(a,{instanceIdentifier:b}){const c=a.getProvider("app").getImmediate(),d=a.getProvider("auth-internal"),e=a.getProvider("app-check-internal");return new Pb(c,d,e,b,f.Jn)},"PUBLIC").setMultipleInstances(!0)),(0,f.KN)(lc,mc,""),(0,f.KN)(lc,mc,"esm2017")}}])